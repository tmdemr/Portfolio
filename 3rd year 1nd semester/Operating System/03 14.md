# 운영체제

### 입출력 장치 관리
- 입출력장치는 Active Chain에 리스트 형태로 연결된다.

### 입출력 구조
- 입출력 요구 관리
  - 입출력 장치 큐 이용
  - 큐
    - 관리 자료, 제어장치의 상태 정보
    - 장치에 대한 요구 정보가 수록된 TCB(Task Control Block)정보
    - 정적 체인과 동적 체인
    - 사용자 프로그램 큐
  - TCB
     - 시작 주소, 문맥 교환 주소, 상태 수록
  - 스케쥴러
    - 큐와 PCB의 상태에 의한 논리

### 생산자/소비자 문제
- 버퍼를 만드는 가장 쉬운 방법은 리스트로 만드는 것임
- 버퍼 내 인덱스 주소의 값을 관리하여 포인터로 접근함

### DMA; Direct Memorty Access
- 인터럽트 오버헤드와 장치 속도
  - 고속의 I/O 장치에서 인터럽트가 자주 발생하는 경우 CPU의 프로세스 실행 시간이 줄어듬
- DMA
  - 메모리 속도에 근접하게 정보를 전송하는 고속의 입출력 장치에 사용
  - CPU 간섭 없이 메모리에 직접 접근하여 많은 자료 입출력
  - 인터럽트는 블록 단위로 1번 발생
    - 발생 빈도를 줄임

> 메모리의 주소와 하드디스크의 블락 번호 등의 정보로 일을 지시하여 일이 끝나기 전까지 발생하는 인터럽트의 발생 빈도를 줄임.


### 다중처리기(Multiprocessor) 시스템
###### 병렬 시스템(Parallel System), Tightly Coupled System
- 코어를 여러개를 두면 자원을 공유할 수 있어 더 나은 처리율을 보임
- 경우에 실시간으로 빠르고 신뢰성있게 하나의 프로그램을 실행하는 경우도 있음
- 병렬처리를 도와주는 코드를 집어넣어야 컴퓨터가 인식할 수 있음.(#pragma)

### 클러스터형 시스템(Clustered System)
- 독립적인 시스템 또는 노드들을 결합하여 구성
  - storage-area network(SAN)을 통해 저장장치 공유

### 운영체제 구조
- 다중프로그래밍이 반드시 필요.
- 시분할(멀티태스킹)은 다중 프로그래밍의 논리적 확장으로서 대화식 컴퓨팅 가능
  - 메모리가 가득 차 일을 수행하지 못하면, 디스크의 용량을 할당하여 일을 처리함(Swaping)

### 운영체제 동작
- 다수의 프로그램 사이의 시스템 자원 공유
  - 대부분은 인터럽트 방식
  - 사용자가 고의적으로 일을 수행하기 위해 발생시키는 인터럽트도 있음.
- 한 프로그램의 오류가 운영 체제를 포함한 다른 프로그램에 영향을 미치지 못하게 하도록 보호할 필요가 있음.

### 이중 모드
- 두 가지 독립된 연산 모드
  - 사용자 모드("1")
  - 시스템 모드 또는 모니터 모드("0")
- 특권 명령 : 모든 CPU 명령어와 분리되어 실행되는 명령
  - 모든 입출력 명령은 특권 명령

### 메모리 보호
- 각 프로그램의 메모리 영역 구분 및 보호
- 레지스터의 범위를 지정하여 CPU가 다른 프로그램의 메모리를 사용할 수 없도록 함

### 프로세스 관리
- 프로세스
  - 전통적으로는 만들어진 작업의 개념(실행중인 프로그램)
  - 프로그램 전용으로 메모리를 할당하면 속도가 느려져 효율적이지 않음
  - 서로 다른 프로세스는 서로 공유하는 것이 불가함.
- 쓰레드(Thread; 실)
  - 경량 프로세스임
  - 한 프로세스 내에서 데이터를 공유함

### 프로세스 관리 기능
- 프로세스의 시작, 종료와 중지는 커널이 관리함.
- 프로세스 동기화, 통신, 교착상태를 처리함.

### 파일 시스템 관리
- 파일
  - 관련된 정보를 하나로 모아놓은 것
- 기능
  - 파이롸 디렉토리의 생성과 삭제, 조작
  - 파일을 보조저장장치로 매핑

### 가상화
- 운영체제가 다른 운영체제 안에서 하나의 응용처럼 실행할 수 있도록 함
- 에뮬레이션 소스 CPU 타입이 타겟 CPU 타입과 다를 때 사용(블루스택)

### 클라우드 컴퓨팅
- 가상화에 기반하므로 가상화의 논리적 확장
- 네트워크를 통해 계산, 저장장치는 물론 응용을 서비스로 제공

> ### 운영체제에서 가장 중요한 Topic은 자원 공유